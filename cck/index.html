



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.1">
    
    
      
        <title>Manual repair with Cloud Check</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#problems" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Cloud Foundry BOSH" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Cloud Foundry BOSH
              </span>
              <span class="md-header-nav__topic">
                IaaS Reconciliation
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href=".." title="About" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../cli-v2-install/" title="Installation" class="md-tabs__link">
          Installation
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../update-cloud-config/" title="Guides" class="md-tabs__link">
          Guides
        </a>
      
    </li>
  

  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../terminology/" title="Reference" class="md-tabs__link">
          Reference
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../stemcells/" title="Stemcells" class="md-tabs__link">
          Stemcells
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../releases/" title="Releases" class="md-tabs__link">
          Releases
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/logo.png" width="48" height="48">
      
    </span>
    Cloud Foundry BOSH
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../goals-of-bosh/" title="Project Goals" class="md-nav__link">
      Project Goals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ecosystem/community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-v2-install/" title="Installing the CLI" class="md-nav__link">
      Installing the CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-aws/" title="Amazon Web Services" class="md-nav__link">
      Amazon Web Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-google/" title="Google Cloud Platform" class="md-nav__link">
      Google Cloud Platform
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-azure/" title="Microsoft Azure" class="md-nav__link">
      Microsoft Azure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-openstack/" title="OpenStack" class="md-nav__link">
      OpenStack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-softlayer/" title="SoftLayer" class="md-nav__link">
      SoftLayer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bosh-lite/" title="VirtualBox" class="md-nav__link">
      VirtualBox
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-vcloud/" title="VMware vCloud" class="md-nav__link">
      VMware vCloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-vsphere/" title="VMware vSphere" class="md-nav__link">
      VMware vSphere
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      Deploying Software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Deploying Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-1" type="checkbox" id="nav-3-1-1">
    
    <label class="md-nav__link" for="nav-3-1-1">
      Core Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-1">
        Core Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../update-cloud-config/" title="Updating Cloud Config" class="md-nav__link">
      Updating Cloud Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment-basics/" title="Building a Manifest" class="md-nav__link">
      Building a Manifest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../uploading-stemcells/" title="Uploading Stemcells" class="md-nav__link">
      Uploading Stemcells
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../uploading-releases/" title="Uploading Releases" class="md-nav__link">
      Uploading Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploying/" title="Deploying" class="md-nav__link">
      Deploying
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-2" type="checkbox" id="nav-3-1-2">
    
    <label class="md-nav__link" for="nav-3-1-2">
      Using Persistent Disks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-2">
        Using Persistent Disks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../persistent-disks/" title="Manually Attaching Disks" class="md-nav__link">
      Manually Attaching Disks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../persistent-disks/" title="Orphan Disks" class="md-nav__link">
      Orphan Disks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../snapshots/" title="Taking Snapshots" class="md-nav__link">
      Taking Snapshots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../persistent-disk-fs/" title="Using XFS" class="md-nav__link">
      Using XFS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-3" type="checkbox" id="nav-3-1-3">
    
    <label class="md-nav__link" for="nav-3-1-3">
      Using Links
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-3">
        Using Links
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../links/" title="Using Implicit Links" class="md-nav__link">
      Using Implicit Links
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../links/" title="Sharing Links" class="md-nav__link">
      Sharing Links
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../links-manual/" title="Manually Configuring Links" class="md-nav__link">
      Manually Configuring Links
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../errands/" title="Running Errands" class="md-nav__link">
      Running Errands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vm-anti-affinity/" title="VM Anti-Affinity" class="md-nav__link">
      VM Anti-Affinity
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-6" type="checkbox" id="nav-3-1-6" checked>
    
    <label class="md-nav__link" for="nav-3-1-6">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-6">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vm-monit/" title="Process Monitoring with Monit" class="md-nav__link">
      Process Monitoring with Monit
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        IaaS Reconciliation
      </label>
    
    <a href="./" title="IaaS Reconciliation" class="md-nav__link md-nav__link--active">
      IaaS Reconciliation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problems" title="Problems " class="md-nav__link">
    Problems 
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vm-is-missing" title="VM is missing " class="md-nav__link">
    VM is missing 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vm-is-not-responsive-unresponsive-agent" title="VM is not responsive (unresponsive agent) " class="md-nav__link">
    VM is not responsive (unresponsive agent) 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent-disk-is-not-attached" title="Persistent Disk is not attached " class="md-nav__link">
    Persistent Disk is not attached 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent-disk-is-missing" title="Persistent Disk is missing " class="md-nav__link">
    Persistent Disk is missing 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-7" type="checkbox" id="nav-3-1-7">
    
    <label class="md-nav__link" for="nav-3-1-7">
      Migrating
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-7">
        Migrating
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../migrated-from/" title="To Availability Zones" class="md-nav__link">
      To Availability Zones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-v2-diff/" title="From the Ruby CLI" class="md-nav__link">
      From the Ruby CLI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Packaging Software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Packaging Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-1" type="checkbox" id="nav-3-2-1">
    
    <label class="md-nav__link" for="nav-3-2-1">
      Core Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-1">
        Core Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../create-release/" title="Creating a Release" class="md-nav__link">
      Creating a Release
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-2" type="checkbox" id="nav-3-2-2">
    
    <label class="md-nav__link" for="nav-3-2-2">
      Using Links
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-2">
        Using Links
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../links-properties/" title="Sharing Properties" class="md-nav__link">
      Sharing Properties
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-3" type="checkbox" id="nav-3-2-3">
    
    <label class="md-nav__link" for="nav-3-2-3">
      Configuring the Blobstore
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-3">
        Configuring the Blobstore
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../release-blobstore/" title="Release Blobstore" class="md-nav__link">
      Release Blobstore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../s3-release-blobstore/" title="Using S3 & IAM Policies" class="md-nav__link">
      Using S3 & IAM Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-blobs/" title="Working with Blobs" class="md-nav__link">
      Working with Blobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-5" type="checkbox" id="nav-3-2-5">
    
    <label class="md-nav__link" for="nav-3-2-5">
      Testing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-5">
        Testing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../job-templates/" title="Unit Testing Job Templates" class="md-nav__link">
      Unit Testing Job Templates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scheduled-procs/" title="Scheduled Processes" class="md-nav__link">
      Scheduled Processes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../compiled-releases/" title="Creating Compiled Releases" class="md-nav__link">
      Creating Compiled Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../errands/" title="Using Errands" class="md-nav__link">
      Using Errands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-9" type="checkbox" id="nav-3-2-9">
    
    <label class="md-nav__link" for="nav-3-2-9">
      Configuring Processes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-9">
        Configuring Processes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../props-common/" title="Recommended Property Types" class="md-nav__link">
      Recommended Property Types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-10" type="checkbox" id="nav-3-2-10">
    
    <label class="md-nav__link" for="nav-3-2-10">
      Packaging and Compiling
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-10">
        Packaging and Compiling
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../packages/" title="Creating Packages" class="md-nav__link">
      Creating Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../package-vendoring/" title="Reusing Packages" class="md-nav__link">
      Reusing Packages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-11" type="checkbox" id="nav-3-2-11">
    
    <label class="md-nav__link" for="nav-3-2-11">
      Windows Compatibility
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-11">
        Windows Compatibility
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../windows/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../windows-sample-release/" title="Sample Release" class="md-nav__link">
      Sample Release
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Operating Director
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Operating Director
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-1" type="checkbox" id="nav-3-3-1">
    
    <label class="md-nav__link" for="nav-3-3-1">
      Monitoring
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-1">
        Monitoring
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../events/" title="Auditing Events" class="md-nav__link">
      Auditing Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-tasks/" title="Reviewing Tasks" class="md-nav__link">
      Reviewing Tasks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-access-events/" title="Logging API Access" class="md-nav__link">
      Logging API Access
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-2" type="checkbox" id="nav-3-3-2">
    
    <label class="md-nav__link" for="nav-3-3-2">
      Securing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-2">
        Securing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../director-users/" title="Using Basic Users" class="md-nav__link">
      Using Basic Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-2-2" type="checkbox" id="nav-3-3-2-2">
    
    <label class="md-nav__link" for="nav-3-3-2-2">
      Integrating with UAA
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-3-3-2-2">
        Integrating with UAA
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../director-users-uaa/" title="Configuring Director" class="md-nav__link">
      Configuring Director
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-users-uaa-perms/" title="Using Teams" class="md-nav__link">
      Using Teams
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-certs/" title="Configuring SSL Certificates" class="md-nav__link">
      Configuring SSL Certificates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-3" type="checkbox" id="nav-3-3-3">
    
    <label class="md-nav__link" for="nav-3-3-3">
      Configuring the Database
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-3">
        Configuring the Database
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../director-configure-db/" title="Builtin PostgreSQL" class="md-nav__link">
      Builtin PostgreSQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-configure-db/" title="External MySQL" class="md-nav__link">
      External MySQL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-4" type="checkbox" id="nav-3-3-4">
    
    <label class="md-nav__link" for="nav-3-3-4">
      Configuring the Blobstore
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-4">
        Configuring the Blobstore
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../director-configure-blobstore/" title="Builtin DAV Server" class="md-nav__link">
      Builtin DAV Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-configure-blobstore/" title="Amazon S3" class="md-nav__link">
      Amazon S3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-configure-blobstore/" title="Google Cloud Storage" class="md-nav__link">
      Google Cloud Storage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../managing-releases/" title="Managing Releases" class="md-nav__link">
      Managing Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../managing-stemcells/" title="Managing Stemcells" class="md-nav__link">
      Managing Stemcells
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resurrector/" title="Auto-healing Capabilities" class="md-nav__link">
      Auto-healing Capabilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hm-config/" title="Using Health Monitor" class="md-nav__link">
      Using Health Monitor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../addons-common/" title="Common Addons" class="md-nav__link">
      Common Addons
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-10" type="checkbox" id="nav-3-3-10">
    
    <label class="md-nav__link" for="nav-3-3-10">
      Integrating with CredHub
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-10">
        Integrating with CredHub
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../variable-types/" title="Variable Types" class="md-nav__link">
      Variable Types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-11" type="checkbox" id="nav-3-3-11">
    
    <label class="md-nav__link" for="nav-3-3-11">
      Optional Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-11">
        Optional Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../flush-arp/" title="Explicit ARP Flushing" class="md-nav__link">
      Explicit ARP Flushing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../remove-dev-tools/" title="Removing Dev Tools from VMs" class="md-nav__link">
      Removing Dev Tools from VMs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../trusted-certs/" title="Installing Certificates on VMs" class="md-nav__link">
      Installing Certificates on VMs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Using the CLI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Using the CLI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-v2/" title="Commands" class="md-nav__link">
      Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-global-flags/" title="Global Flags" class="md-nav__link">
      Global Flags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-envs/" title="Environments" class="md-nav__link">
      Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-tunnel/" title="Tunneling" class="md-nav__link">
      Tunneling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4-5" type="checkbox" id="nav-3-4-5">
    
    <label class="md-nav__link" for="nav-3-4-5">
      Composing YAML
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-4-5">
        Composing YAML
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-int/" title="Interpolating Variables" class="md-nav__link">
      Interpolating Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-ops-files/" title="Creating Ops Files" class="md-nav__link">
      Creating Ops Files
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Advanced Networking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        Advanced Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-1" type="checkbox" id="nav-3-5-1">
    
    <label class="md-nav__link" for="nav-3-5-1">
      Multi-Cloud Support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-1">
        Multi-Cloud Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cpi-config/" title="Using CPI Config" class="md-nav__link">
      Using CPI Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide-multi-cpi-aws/" title="Using AWS" class="md-nav__link">
      Using AWS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide-ipv6-on-vsphere/" title="Using IPv6 on vSphere" class="md-nav__link">
      Using IPv6 on vSphere
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Advanced Bootstrapping
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        Advanced Bootstrapping
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../init-external-ip/" title="Using a Public IP" class="md-nav__link">
      Using a Public IP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jumpbox/" title="Enabling SSH Access" class="md-nav__link">
      Enabling SSH Access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bosh-cli/guide/recovering-env-state/" title="Recovering a State File" class="md-nav__link">
      Recovering a State File
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7">
    
    <label class="md-nav__link" for="nav-3-7">
      In-depth Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        In-depth Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dns/" title="Native DNS Support" class="md-nav__link">
      Native DNS Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bosh-components/" title="Components of BOSH" class="md-nav__link">
      Components of BOSH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploying-step-by-step/" title="Deploying Step by Step" class="md-nav__link">
      Deploying Step by Step
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../agent-cpi-interactions/" title="Agent Interactions" class="md-nav__link">
      Agent Interactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7-5" type="checkbox" id="nav-3-7-5">
    
    <label class="md-nav__link" for="nav-3-7-5">
      Virtual Machines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-7-5">
        Virtual Machines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../vm-struct/" title="Structure of a VM" class="md-nav__link">
      Structure of a VM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vm-config/" title="Configuration Locations" class="md-nav__link">
      Configuration Locations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../job-logs/" title="Using Logs" class="md-nav__link">
      Using Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../instance-metadata/" title="Instance Metadata" class="md-nav__link">
      Instance Metadata
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../build-cpi/" title="Building a CPI" class="md-nav__link">
      Building a CPI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-stemcell/" title="Building a Stemcell" class="md-nav__link">
      Building a Stemcell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repack-stemcell/" title="Repacking Stemcells" class="md-nav__link">
      Repacking Stemcells
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../personas/" title="Target Personas" class="md-nav__link">
      Target Personas
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../terminology/" title="Terminology" class="md-nav__link">
      Terminology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2-1" type="checkbox" id="nav-4-2-1">
    
    <label class="md-nav__link" for="nav-4-2-1">
      Ubuntu Trusty Stemcell
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-2-1">
        Ubuntu Trusty Stemcell
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bosh-linux-stemcell-builder/release-notes/3541.x/" title="3541.x" class="md-nav__link">
      3541.x
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../manifest-v2/" title="Deployment Config" class="md-nav__link">
      Deployment Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Director Cloud Config
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Director Cloud Config
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cloud-config/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../azs/" title="Availability Zones" class="md-nav__link">
      Availability Zones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../networks/" title="Networks" class="md-nav__link">
      Networks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-api-v1/" title="Director HTTP API" class="md-nav__link">
      Director HTTP API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6">
    
    <label class="md-nav__link" for="nav-4-6">
      Director Runtime Config
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Director Runtime Config
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../runtime-config/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configs/" title="Generic Configs" class="md-nav__link">
      Generic Configs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cpi-api-v1/" title="Cloud Provider Interface" class="md-nav__link">
      Cloud Provider Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-9" type="checkbox" id="nav-4-9">
    
    <label class="md-nav__link" for="nav-4-9">
      Release Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-9">
        Release Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../release/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-urls/" title="Release URLs" class="md-nav__link">
      Release URLs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-9-3" type="checkbox" id="nav-4-9-3">
    
    <label class="md-nav__link" for="nav-4-9-3">
      Jobs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-3">
        Jobs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jobs/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../job-lifecycle/" title="Update Lifecycle" class="md-nav__link">
      Update Lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-9-3-3" type="checkbox" id="nav-4-9-3-3">
    
    <label class="md-nav__link" for="nav-4-9-3-3">
      Lifecycle Hooks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-9-3-3">
        Lifecycle Hooks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../drain/" title="Drain" class="md-nav__link">
      Drain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pre-start/" title="Pre-start" class="md-nav__link">
      Pre-start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../post-start/" title="Post-start" class="md-nav__link">
      Post-start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../post-deploy/" title="Post-deploy" class="md-nav__link">
      Post-deploy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-9-4" type="checkbox" id="nav-4-9-4">
    
    <label class="md-nav__link" for="nav-4-9-4">
      Links
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-9-4">
        Links
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../links-common-types/" title="Common Types" class="md-nav__link">
      Common Types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-10" type="checkbox" id="nav-4-10">
    
    <label class="md-nav__link" for="nav-4-10">
      Amazon Web Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-10">
        Amazon Web Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aws-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws-iam-users/" title="IAM Users" class="md-nav__link">
      IAM Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws-iam-instance-profiles/" title="IAM Profiles" class="md-nav__link">
      IAM Profiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws-instance-storage/" title="Using Instance Storage" class="md-nav__link">
      Using Instance Storage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-11" type="checkbox" id="nav-4-11">
    
    <label class="md-nav__link" for="nav-4-11">
      Google Cloud Platform
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-11">
        Google Cloud Platform
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../google-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../google-required-permissions/" title="Required Permissions" class="md-nav__link">
      Required Permissions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-12" type="checkbox" id="nav-4-12">
    
    <label class="md-nav__link" for="nav-4-12">
      Microsoft Azure
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-12">
        Microsoft Azure
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../azure-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../azure-resources/" title="Creating Resources" class="md-nav__link">
      Creating Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-13" type="checkbox" id="nav-4-13">
    
    <label class="md-nav__link" for="nav-4-13">
      OpenStack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-13">
        OpenStack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-auto-anti-affinity/" title="Using Auto-anti-affinity" class="md-nav__link">
      Using Auto-anti-affinity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-human-readable-vm-names/" title="Using Human-readable VM names" class="md-nav__link">
      Using Human-readable VM names
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-keystonev2/" title="Using Keystone API v2" class="md-nav__link">
      Using Keystone API v2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-light-stemcells/" title="Using Light Stemcells" class="md-nav__link">
      Using Light Stemcells
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-nova-networking/" title="Using nova-networking" class="md-nav__link">
      Using nova-networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-multiple-networks/" title="Multi-homed VMs" class="md-nav__link">
      Multi-homed VMs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-registry/" title="Extended Registry configuration" class="md-nav__link">
      Extended Registry configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openstack-self-signed-endpoints/" title="Self-signed Endpoints" class="md-nav__link">
      Self-signed Endpoints
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-14" type="checkbox" id="nav-4-14">
    
    <label class="md-nav__link" for="nav-4-14">
      RackHD
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-14">
        RackHD
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rackhd-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-15" type="checkbox" id="nav-4-15">
    
    <label class="md-nav__link" for="nav-4-15">
      SoftLayer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-15">
        SoftLayer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../softlayer-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-16" type="checkbox" id="nav-4-16">
    
    <label class="md-nav__link" for="nav-4-16">
      VirtualBox
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-16">
        VirtualBox
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../virtualbox-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-17" type="checkbox" id="nav-4-17">
    
    <label class="md-nav__link" for="nav-4-17">
      VMware vCloud
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-17">
        VMware vCloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../vcloud-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-18" type="checkbox" id="nav-4-18">
    
    <label class="md-nav__link" for="nav-4-18">
      VMware vSphere
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-18">
        VMware vSphere
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../vsphere-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vsphere-esxi-host-failure/" title="Recovery from an ESXi Host Failure" class="md-nav__link">
      Recovery from an ESXi Host Failure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vsphere-ha/" title="vSphere High Availability" class="md-nav__link">
      vSphere High Availability
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vsphere-migrate-datastores/" title="Migrating Datastores" class="md-nav__link">
      Migrating Datastores
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vsphere-network-partition/" title="Recovery from a vSphere Network Partitioning Fault" class="md-nav__link">
      Recovery from a vSphere Network Partitioning Fault
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vsphere-vmotion-support/" title="Storage DRS and vMotion Support" class="md-nav__link">
      Storage DRS and vMotion Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../init-vsphere-rp/" title="Bootstrapping with Resource Pools" class="md-nav__link">
      Bootstrapping with Resource Pools
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-19" type="checkbox" id="nav-4-19">
    
    <label class="md-nav__link" for="nav-4-19">
      Warden
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-19">
        Warden
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../warden-cpi/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-20" type="checkbox" id="nav-4-20">
    
    <label class="md-nav__link" for="nav-4-20">
      Legacy Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-20">
        Legacy Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment/" title="What is a Deployment?" class="md-nav__link">
      What is a Deployment?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stemcell/" title="What is a Stemcell?" class="md-nav__link">
      What is a Stemcell?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../basic-workflow/" title="Basic Workflow" class="md-nav__link">
      Basic Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment-manifest/" title="Deployment Manifest v1" class="md-nav__link">
      Deployment Manifest v1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bosh-cli/" title="CLI v1 Installation" class="md-nav__link">
      CLI v1 Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sysadmin-commands/" title="CLI v1 Commands" class="md-nav__link">
      CLI v1 Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../director-backup/" title="CLI v1 Backup / Restore" class="md-nav__link">
      CLI v1 Backup / Restore
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Stemcells
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Stemcells
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../stemcells/" title="Stemcells" class="md-nav__link">
      Stemcells
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problems" title="Problems " class="md-nav__link">
    Problems 
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vm-is-missing" title="VM is missing " class="md-nav__link">
    VM is missing 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vm-is-not-responsive-unresponsive-agent" title="VM is not responsive (unresponsive agent) " class="md-nav__link">
    VM is not responsive (unresponsive agent) 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent-disk-is-not-attached" title="Persistent Disk is not attached " class="md-nav__link">
    Persistent Disk is not attached 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent-disk-is-missing" title="Persistent Disk is missing " class="md-nav__link">
    Persistent Disk is missing 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>IaaS Reconciliation</h1>
                
                <p class="note">Note: Updated for bosh-release v183 (1.3010.0).</p>

<p>BOSH provides the Cloud Check CLI command (a.k.a cck) to repair IaaS resources used by a specific deployment. It is not commonly used during normal operations; however, it becomes essential when some IaaS operations fail and the Director cannot resolve problems without a human decision or when the Resurrector is not enabled.</p>
<p>The Resurrector will only try to recover any VMs that are missing from the IaaS or that have non-responsive agents. The cck tool is similar to the Resurrector in that it also looks for those two conditions; however, instead of automatically trying to resolve these problems, it provides several options to the operator.</p>
<p>In addition to looking for those two types of problems, cck also checks correct attachment and presence of persistent disks for each deployment job instance.</p>
<p>Once the deployment is set via the <code class="codehilite">bosh deployment</code> command you can simply run <code class="codehilite">bosh cck</code>. Here is an example output when no problems are detected:</p>
<div class="codehilite"><pre><span></span>$ bosh cck

Performing cloud check...

Processing deployment manifest
------------------------------

Director task <span class="m">622</span>
  Started scanning <span class="m">1</span> vms
  Started scanning <span class="m">1</span> vms &gt; Checking VM states. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started scanning <span class="m">1</span> vms &gt; <span class="m">1</span> OK, <span class="m">0</span> unresponsive, <span class="m">0</span> missing, <span class="m">0</span> unbound, <span class="m">0</span> out of sync. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">1</span> vms <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

  Started scanning <span class="m">0</span> persistent disks
  Started scanning <span class="m">0</span> persistent disks &gt; Looking <span class="k">for</span> inactive disks. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started scanning <span class="m">0</span> persistent disks &gt; <span class="m">0</span> OK, <span class="m">0</span> missing, <span class="m">0</span> inactive, <span class="m">0</span> mount-info mismatch. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">0</span> persistent disks <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

Task <span class="m">622</span> <span class="k">done</span>

Started     <span class="m">2015</span>-01-09 <span class="m">23</span>:29:34 UTC
Finished    <span class="m">2015</span>-01-09 <span class="m">23</span>:29:34 UTC
Duration    <span class="m">00</span>:00:00

Scan is complete, checking <span class="k">if</span> any problems found...
No problems found
</pre></div>

<hr />
<h2 id="problems">Problems <a id="problems"></a><a class="headerlink" href="#problems" title="Permanent link">&para;</a></h2>
<h3 id="vm-is-missing">VM is missing <a id="missing-vm"></a><a class="headerlink" href="#vm-is-missing" title="Permanent link">&para;</a></h3>
<p>Assuming there was a deployment with a VM, somehow that VM was deleted from the IaaS outside of BOSH, here is what cck would report:</p>
<div class="codehilite"><pre><span></span>$ bosh cck

Performing cloud check...

Processing deployment manifest
------------------------------

Director task <span class="m">623</span>
  Started scanning <span class="m">1</span> vms
  Started scanning <span class="m">1</span> vms &gt; Checking VM states. Done <span class="o">(</span><span class="m">00</span>:00:10<span class="o">)</span>
  Started scanning <span class="m">1</span> vms &gt; <span class="m">0</span> OK, <span class="m">0</span> unresponsive, <span class="m">1</span> missing, <span class="m">0</span> unbound, <span class="m">0</span> out of sync. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">1</span> vms <span class="o">(</span><span class="m">00</span>:00:10<span class="o">)</span>

  Started scanning <span class="m">0</span> persistent disks
  Started scanning <span class="m">0</span> persistent disks &gt; Looking <span class="k">for</span> inactive disks. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started scanning <span class="m">0</span> persistent disks &gt; <span class="m">0</span> OK, <span class="m">0</span> missing, <span class="m">0</span> inactive, <span class="m">0</span> mount-info mismatch. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">0</span> persistent disks <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

Task <span class="m">623</span> <span class="k">done</span>

Started     <span class="m">2015</span>-01-09 <span class="m">23</span>:32:45 UTC
Finished    <span class="m">2015</span>-01-09 <span class="m">23</span>:32:56 UTC
Duration    <span class="m">00</span>:00:11

Scan is complete, checking <span class="k">if</span> any problems found...

Found <span class="m">1</span> problem

Problem <span class="m">1</span> of <span class="m">1</span>: VM with cloud ID <span class="sb">`</span>i-914c046a<span class="s1">&#39; missing.</span>
<span class="s1">  1. Skip for now</span>
<span class="s1">  2. Recreate VM</span>
<span class="s1">  3. Delete VM reference</span>
<span class="s1">Please choose a resolution [1 - 3]: 3</span>

<span class="s1">Below is the list of resolutions you&#39;</span>ve provided
Please make sure everything is fine and confirm your changes

  <span class="m">1</span>. VM with cloud ID <span class="sb">`</span>i-914c046a<span class="s1">&#39; missing.</span>
<span class="s1">     Delete VM reference</span>

<span class="s1">Apply resolutions? (type &#39;</span>yes<span class="err">&#39;</span> to <span class="k">continue</span><span class="o">)</span>: yes
Applying resolutions...

Director task <span class="m">624</span>
  Started applying problem resolutions &gt; missing_vm <span class="m">168</span>: Delete VM reference. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

Task <span class="m">624</span> <span class="k">done</span>

Started     <span class="m">2015</span>-01-09 <span class="m">23</span>:33:20 UTC
Finished    <span class="m">2015</span>-01-09 <span class="m">23</span>:33:20 UTC
Duration    <span class="m">00</span>:00:00
Cloudcheck is finished
</pre></div>

<p>cck determined that <code class="codehilite">i-914c046a</code> VM was missing. Possible options are:</p>
<ol>
<li>
<p><code class="codehilite">Skip for now</code>: the Director will not try to resolve this problem right now</p>
</li>
<li>
<p><code class="codehilite">Recreate VM</code>: the Director will just create new VM, deploy specified releases according to deployed manifest and finally start release jobs</p>
<p>Note on current behaviour: cck will not wait for all release job processes to start.</p>
</li>
<li>
<p><code class="codehilite">Delete VM reference</code>: the Director will not create new VM in its place. If cck is run again, it will not report that VM is missing since it's not expected to exist. Running <code class="codehilite">bosh deploy</code> after cck will backfill missing VMs.</p>
</li>
</ol>
<p>In the above example options 3 was picked and VM reference was deleted.</p>
<hr />
<h3 id="vm-is-not-responsive-unresponsive-agent">VM is not responsive (unresponsive agent) <a id="not-responsive-vm"></a><a class="headerlink" href="#vm-is-not-responsive-unresponsive-agent" title="Permanent link">&para;</a></h3>
<p>Assuming there was a deployment with a VM, somehow Agent is no longer responding to the Director. In this situation <code class="codehilite">bosh vms</code> will report VM's agent as <code class="codehilite">unresponsive agent</code>:</p>
<div class="codehilite"><pre><span></span>$ bosh vms simple-deployment --details

Deployment <span class="sb">`</span>simple-deployment<span class="err">&#39;</span>

Director task <span class="m">630</span>

Task <span class="m">630</span> <span class="k">done</span>

+-----------------+--------------------+---------------+-----+------------+--------------------------------------+--------------+
<span class="p">|</span> Job/index       <span class="p">|</span> State              <span class="p">|</span> Resource Pool <span class="p">|</span> IPs <span class="p">|</span> CID        <span class="p">|</span> Agent ID                             <span class="p">|</span> Resurrection <span class="p">|</span>
+-----------------+--------------------+---------------+-----+------------+--------------------------------------+--------------+
<span class="p">|</span> unknown/unknown <span class="p">|</span> unresponsive agent <span class="p">|</span>               <span class="p">|</span>     <span class="p">|</span> i-1db9ede6 <span class="p">|</span> 59a30081-d63d-4c1b-80be-01fa681d8787 <span class="p">|</span> active       <span class="p">|</span>
+-----------------+--------------------+---------------+-----+------------+--------------------------------------+--------------+

VMs total: <span class="m">1</span>
</pre></div>

<p>Also <code class="codehilite">bosh deploy</code> will stop at <code class="codehilite">Binding existing deployment</code> stage since it is not able to communicate with unresponsive agent:</p>
<div class="codehilite"><pre><span></span>$ bosh deploy

..snip...

Deploying
---------
Deployment name: <span class="sb">`</span>tiny-dummy.yml<span class="s1">&#39;</span>
<span class="s1">Director name: `idora&#39;</span>
Are you sure you want to deploy? <span class="o">(</span><span class="nb">type</span> <span class="s1">&#39;yes&#39;</span> to <span class="k">continue</span><span class="o">)</span>: yes

Director task <span class="m">631</span>
  Started preparing deployment
  Started preparing deployment &gt; Binding deployment. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started preparing deployment &gt; Binding releases. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started preparing deployment &gt; Binding existing deployment. Failed: Timed out sending <span class="sb">`</span>get_state<span class="s1">&#39; to 59a30081-d63d-4c1b-80be-01fa681d8787 after 45 seconds (00:02:15)</span>

<span class="s1">Error 450002: Timed out sending `get_state&#39;</span> to 59a30081-d63d-4c1b-80be-01fa681d8787 after <span class="m">45</span> seconds

Task <span class="m">631</span> error

For a more detailed error report, run: bosh task <span class="m">631</span> --debug
</pre></div>

<div class="codehilite"><pre><span></span>$ bosh cck

Performing cloud check...

Processing deployment manifest
------------------------------

Director task <span class="m">640</span>
  Started scanning <span class="m">1</span> vms
  Started scanning <span class="m">1</span> vms &gt; Checking VM states. Done <span class="o">(</span><span class="m">00</span>:00:10<span class="o">)</span>
  Started scanning <span class="m">1</span> vms &gt; <span class="m">0</span> OK, <span class="m">1</span> unresponsive, <span class="m">0</span> missing, <span class="m">0</span> unbound, <span class="m">0</span> out of sync. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">1</span> vms <span class="o">(</span><span class="m">00</span>:00:10<span class="o">)</span>

  Started scanning <span class="m">0</span> persistent disks
  Started scanning <span class="m">0</span> persistent disks &gt; Looking <span class="k">for</span> inactive disks. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started scanning <span class="m">0</span> persistent disks &gt; <span class="m">0</span> OK, <span class="m">0</span> missing, <span class="m">0</span> inactive, <span class="m">0</span> mount-info mismatch. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">0</span> persistent disks <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

Task <span class="m">640</span> <span class="k">done</span>

Started   <span class="m">2015</span>-01-09 <span class="m">23</span>:33:45 UTC
Finished  <span class="m">2015</span>-01-09 <span class="m">23</span>:33:55 UTC
Duration  <span class="m">00</span>:00:10

Scan is complete, checking <span class="k">if</span> any problems found...

Found <span class="m">1</span> problem

Problem <span class="m">1</span> of <span class="m">1</span>: dummy/0 <span class="o">(</span>i-914c046a<span class="o">)</span> is not responding.
  <span class="m">1</span>. Skip <span class="k">for</span> now
  <span class="m">2</span>. Reboot VM
  <span class="m">3</span>. Recreate VM
  <span class="m">4</span>. Delete VM reference <span class="o">(</span>forceful<span class="p">;</span> may need to manually delete VM from the Cloud to avoid IP conflicts<span class="o">)</span>
Please choose a resolution <span class="o">[</span><span class="m">1</span> - <span class="m">4</span><span class="o">]</span>: <span class="m">4</span>

Below is the list of resolutions you<span class="s1">&#39;ve provided</span>
<span class="s1">Please make sure everything is fine and confirm your changes</span>

<span class="s1">  1. dummy/0 (i-914c046a) is not responding.</span>
<span class="s1">     Delete VM reference (forceful; may need to manually delete VM from the Cloud to avoid IP conflicts)</span>

<span class="s1">Apply resolutions? (type &#39;</span>yes<span class="err">&#39;</span> to <span class="k">continue</span><span class="o">)</span>: yes
Applying resolutions...

Director task <span class="m">641</span>
  Started applying problem resolutions &gt; unresponsive_agent <span class="m">168</span>: Delete VM reference <span class="o">(</span>...<span class="o">)</span>. Done <span class="o">(</span><span class="m">00</span>:00:05<span class="o">)</span>

Task <span class="m">641</span> <span class="k">done</span>

Started   <span class="m">2015</span>-01-09 <span class="m">23</span>:35:20 UTC
Finished  <span class="m">2015</span>-01-09 <span class="m">23</span>:35:25 UTC
Duration  <span class="m">00</span>:00:05
Cloudcheck is finished
</pre></div>

<p>cck determined that <code class="codehilite">i-914c046a</code> VM is unresponsive. Possible options are:</p>
<ol>
<li>
<p><code class="codehilite">Skip for now</code>: the Director will not try to resolve this problem right now</p>
</li>
<li>
<p><code class="codehilite">Reboot VM</code>: the Director will power off and then power on existing VM</p>
<p>Note on current behaviour: cck will not wait for all release job processes to start.</p>
</li>
<li>
<p><code class="codehilite">Recreate VM</code>: the Director will delete existing VM, then create a new VM, deploy specified releases according to deployed manifest and finally start release jobs</p>
<p>Note on current behaviour: cck will not wait for all release job processes to start.</p>
</li>
<li>
<p><code class="codehilite">Delete VM reference</code>: the Director will not create new VM in its place. If cck is run again, it will not report that VM is unresponsive since it does not exist. Running <code class="codehilite">bosh deploy</code> after cck will backfill missing VMs.</p>
</li>
</ol>
<p>In the above example options 4 was picked and VM reference was deleted.</p>
<hr />
<h3 id="persistent-disk-is-not-attached">Persistent Disk is not attached <a id="unattached-persistent-disk"></a><a class="headerlink" href="#persistent-disk-is-not-attached" title="Permanent link">&para;</a></h3>
<p>Assuming there was a deployment with a VM, somehow persistent disk got detached.</p>
<div class="codehilite"><pre><span></span>$ bosh cck

Performing cloud check...

Processing deployment manifest
------------------------------

Director task <span class="m">656</span>
  Started scanning <span class="m">1</span> vms
  Started scanning <span class="m">1</span> vms &gt; Checking VM states. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started scanning <span class="m">1</span> vms &gt; <span class="m">1</span> OK, <span class="m">0</span> unresponsive, <span class="m">0</span> missing, <span class="m">0</span> unbound, <span class="m">0</span> out of sync. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">1</span> vms <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

  Started scanning <span class="m">1</span> persistent disks
  Started scanning <span class="m">1</span> persistent disks &gt; Looking <span class="k">for</span> inactive disks. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
  Started scanning <span class="m">1</span> persistent disks &gt; <span class="m">0</span> OK, <span class="m">0</span> missing, <span class="m">0</span> inactive, <span class="m">1</span> mount-info mismatch. Done <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>
     Done scanning <span class="m">1</span> persistent disks <span class="o">(</span><span class="m">00</span>:00:00<span class="o">)</span>

Task <span class="m">656</span> <span class="k">done</span>

Started   <span class="m">2015</span>-01-13 <span class="m">22</span>:04:56 UTC
Finished  <span class="m">2015</span>-01-13 <span class="m">22</span>:04:56 UTC
Duration  <span class="m">00</span>:00:00

Scan is complete, checking <span class="k">if</span> any problems found...

Found <span class="m">1</span> problem

Problem <span class="m">1</span> of <span class="m">1</span>: Inconsistent mount information:
Record shows that disk <span class="s1">&#39;vol-549f071f&#39;</span> should be mounted on i-4fcd99b4.
However it is currently :
  Not mounted in any VM.
  <span class="m">1</span>. Skip <span class="k">for</span> now
  <span class="m">2</span>. Reattach disk to instance
  <span class="m">3</span>. Reattach disk and reboot instance
Please choose a resolution <span class="o">[</span><span class="m">1</span> - <span class="m">3</span><span class="o">]</span>: <span class="m">2</span>

Below is the list of resolutions you<span class="s1">&#39;ve provided</span>
<span class="s1">Please make sure everything is fine and confirm your changes</span>

<span class="s1">  1. Inconsistent mount information:</span>
<span class="s1">Record shows that disk &#39;</span>vol-549f071f<span class="s1">&#39; should be mounted on i-4fcd99b4.</span>
<span class="s1">However it is currently :</span>
<span class="s1">  Not mounted in any VM</span>
<span class="s1">     Reattach disk to instance</span>

<span class="s1">Apply resolutions? (type &#39;</span>yes<span class="err">&#39;</span> to <span class="k">continue</span><span class="o">)</span>: yes
Applying resolutions...

Director task <span class="m">657</span>
  Started applying problem resolutions &gt; mount_info_mismatch <span class="m">23</span>: Reattach disk to instance. Done <span class="o">(</span><span class="m">00</span>:00:22<span class="o">)</span>

Task <span class="m">657</span> <span class="k">done</span>

Started   <span class="m">2015</span>-01-13 <span class="m">22</span>:05:19 UTC
Finished  <span class="m">2015</span>-01-13 <span class="m">22</span>:05:41 UTC
Duration  <span class="m">00</span>:00:22
Cloudcheck is finished
</pre></div>

<p>cck determined that <code class="codehilite">vol-549f071f</code> persistent disk is not attached to <code class="codehilite">i-4fcd99b4</code> VM. Possible options are:</p>
<ol>
<li>
<p><code class="codehilite">Skip for now</code>: the Director will not try to resolve this problem during</p>
</li>
<li>
<p><code class="codehilite">Reattach disk to instance</code>: the Director will reattach persistent disk to the VM and mount it at its usual location <code class="codehilite">/var/vcap/store</code>.</p>
<p>Note on current behaviour: Release job processes will not be restarted when persistent disk is remounted.</p>
</li>
<li>
<p><code class="codehilite">Reattach disk and reboot instance</code>: the Director will reattach persistent disk to the VM and reboot it so that Agent can safely mount persistent disk before starting any release job processes.</p>
<p>Note on current behaviour: cck will not wait until VM reboots and restarts all release job processes.</p>
</li>
</ol>
<hr />
<h3 id="persistent-disk-is-missing">Persistent Disk is missing <a id="missing-persistent-disk"></a><a class="headerlink" href="#persistent-disk-is-missing" title="Permanent link">&para;</a></h3>
<p>Assuming there was a deployment with a VM, somehow persistent disk got deleted.</p>
<p>Note: Not all CPIs implement needed functionality to determine if disk is missing. Those CPIs will report missing disk as <a href="#unattached-persistent-disk">Persistent Disk is not attached</a> problem; however, both reattaching resolutions will fail since persistent disk would not be found.</p>
<hr />
<p>Next: <a href="../resurrector/">Automatic repair with Resurrector</a></p>
<p>Previous: <a href="../vm-monit/">Process monitoring with Monit</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../vm-monit/" title="Process Monitoring with Monit" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Process Monitoring with Monit
              </span>
            </div>
          </a>
        
        
          <a href="../migrated-from/" title="To Availability Zones" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                To Availability Zones
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/cloudfoundry/bosh" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://cloudfoundry.slack.com/messages/C02HPPYQ2/" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>